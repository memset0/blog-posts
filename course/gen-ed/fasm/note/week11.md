---
title: Week11 浮点数计算
---

## （补）int21h

`int 21h`

参见：https://blog.csdn.net/Zach_z/article/details/78576216 。

| AH   | 功能           | 调用参数 | 返回参数 |
| ---- | -------------- | -------- | -------- |
| 00   | 程序终止       |          |          |
| 01   | 键盘输入并回显 |          |          |
| 02   | 显示输出       |          |          |
| 48   | 分配内存空间   |          |          |
| 49   | 释放内存空间   |          |          |
| 4C   | 带返回码结束   |          |          |
| 4D   | 取返回码       |          |          |

## 计算

### 浮点数计算

st

`fld`压入小数类型的变量；

`fild`把整数类型的变量转化为小数类型并压入。

`fst`把小数寄存器st(0)保存到变量中；

`fstp`把小数寄存器st(0)保存到变量中并弹出st(0)。

`fadd`/`fsub`/`fmul`/`fdiv`浮点数的四则运算；如用`fmul st,st(1)`进行乘法计算，st表示st(0)的省略。

### 位运算

#### and/or

#### 移位指令

| 指令  | 名称     | 备注                                                      |
| ----- | -------- | --------------------------------------------------------- |
| `shl` | 逻辑左移 | 逻辑左移和逻辑右移的对象都是非符号数。运算时，多余位补0。 |
| `shr` | 逻辑右移 |                                                           |
| `sal` | 算术左移 | 和shl等价                                                 |
| `sar` | 算术右移 | 在被操作数是正数时与shr等价（都是补0）否则不等价（补1）   |

