---
title: Ch1 Logic & Proofs
sync: /course/dm/note/1.md
---

> [!note] Word Table
> - **有理数(rational)**
> - 反例(counterexample)

## 1. 命题逻辑 Propositional Logic

### 1.1. 命题 Propositions

**命题(proposition)**：A proposition is a **declarative sentence** that is either `true` or `false`, but not both.

- **悖论(paradox)** 不属于命题（e.g. _This statement is false._ or _I'm lying._）

**命题逻辑(propositional logic)**：The area of logic that deals with propositions.

**命题变量(propositional variable)**：Small letters such as $p,q,r,s,\ldots$ used to present propositions.

**真值(truth value)**：T (true proposition), or F (false proposition)

### 1.2. 逻辑运算符 Logical Operators

**逻辑运算符(logical operators)** or **逻辑连接词(logical connectives)**: be used to form compound propositions from existing propositions

| Connectives                        |      Expression      | Note   |
| ---------------------------------- | :------------------: | ------ |
| Negation (NOT)                     |      $\lnot p$       |        |
| 和取 Conjunction (AND)               |     $p \land q$      |        |
| 析取 Disjunction (OR)                |      $p\lor q$       |        |
| 亦或 Exclusive Or (XOR)              |     $p\oplus q$      |        |
| 条件 Conditional (IF-THEN)           |   $p\rightarrow q$   |        |
| 双条件 Biconditional (IF AND ONLY IF) | $p\leftrightarrow q$ | 参见下节介绍 |

- 英语中的单词 or 既可以表示 inclusive or 也可以表示 exclusive or（e.g. _George was born in 1956 or 1957._），取决于具体语境。

逻辑运算符的**优先级(precedence)** 如下：

| $($ and $)$ | $\lnot$ | $\land$ | $\lor$ | $\rightarrow$ | $\leftrightarrow$ |
| :---------: | :-----: | :-----: | :----: | :-----------: | :---------------: |
|      0      |    1    |    2    |   3    |       4       |         5         |


### 1.3. 条件语句 Conditional Statements

**推断(implication)** or **条件语句(conditional statement)**：$p\rightarrow q$, false when $p$ is true and $q$ is false. $p$ 为假时推出什么都是真的，$p$ 为真时必须推出真的才为真。

> [!important] Equivalent Forms
> 
> - If $p$, then $q$
> - $p$ implies $q$
> - If $p$, $q$
> - $q$ if $p$
> - $q$ when $p$
> - $q$ follows from $p$
> - $q$ whenever $p$
> - $p$ is a sufficient condition for $q$
> - $q$ is a necessary condition for $p$
> - **$p$ only if $q$**
> - $q$ unless $\lnot p$

- **假设(hypothesis = antecedent = premise)**：$p$
- **结论(conclusion = consequence)**: $q$

对于推断 $p\rightarrow q$ 我们可以定义以下条件语句：

- **逆命题(converse)**：$q\rightarrow p$
- **否命题(inverse)**：$\lnot p\rightarrow \lnot q$
- **逆否命题(contrapositive)**：$\lnot q\rightarrow \lnot p$

> [!important] 逆否命题与原命题等价
>
> The contrapositive has **the same truth values** as the original implication.

**双条件语句(biconditional statement)**：The biconditional statement $p\leftrightarrow q$ is the propostion “$p$ if and only if $q$.” The biconditonal statemnt

### 1.4. 真值表 Truth Table

要学会画**真值表(truth table)**。

- $n$ 个不同的布尔变量所画的真值表应有 $2^n$ 行。

> [!example]- 例：由 n 个不同的布尔变量可以多少个不等价的逻辑表达式？
> 可以从真值表的角度入手考虑，$n$ 个布尔变量有 $2^n$ 个取值，而这其中的每一个取值在代入逻辑表达式后都可以得到一个 $0$ 或 $1$，故共有 $2^{2^n}$ 种可能，也就是有 $2^{2^n}$ 种不同的逻辑表达式。

### 1.5. 命题逻辑的应用 Applications of Propositional Logic

#### 1.5.1. 翻译句子 Translating Sentences

- 将英语句子翻译成逻辑表达式，来减少自然语言的不准确(inaccuracy) 和模糊(ambiguous)。

#### 1.5.2. 系统描述 System Specification

可以用于精确地描述系统需求、解决一些逻辑谜题等。

#### 1.5.3. 逻辑谜题 Logical Puzzles

> [!example]- 例：宝箱谜题。
> As a reward for saving his daughter from pirates, the King has given you the opportunity to win a treasure hidden inside one of three trunks. The two trunks that do not hold the treasure are empty. To win, you must select the correct trunk. Trunks 1 and 2 are each inscribed with the message “This trunk is empty,” and Trunk 3 is inscribed with the message “The treasure is in Trunk 2.” The Queen, who never lies, tells you that only one of these inscriptions is true, while the other two are wrong. Which trunk should you select to win?
>
> ![|width: 100%](https://static.memset0.cn/img/v6/2024/03/01/9iCFuaLe.png)

## 2. 逻辑等值式 Propositional Equivalences

### 2.1. Introduction

先定义以下基本概念：

- **永真(tautology)**：A proposition which is always true. (e.g. $p \lor \lnot p$)
- **永假(contradiction)**：A proposition which is always false. (e.g. $p \land \lnot p$)
- **可能式(contingency)**：A proposition which is neither a tautology nor a contradiction. (e.g. $p$)

命题 $p$ 和 $q$ 是**逻辑等值(logically equivalent)** 的，当且仅当命题 $p\leftrightarrow q$ 是永真的。可被表示为：$p\Leftrightarrow q$ 或 $p\equiv q$。

- 一个复合命题是**可满足的(satisfiable)**：if there is an assignment of truth values to its variables that makes it true. 称这组赋值为该复合命题的解。
- 一个复合命题是**不可满足的(unsatisfiable)**：when it is false for all assignments of truth values to its variables.

### 2.2. 逻辑定律 Logical Laws

- 可以用真值表来证明一些基本的逻辑定律：对于涉及到 $n$ 个变量的两个命题，画出 $2^n$ 种可能的变量取值下的真值表，若两个命题的值都相同则说明这两个命题是逻辑等值的。

|              Name              |                                                Expression                                                |
| :----------------------------: | :------------------------------------------------------------------------------------------------------: |
|      统一律 Identity Laws      |                       $p\land \text{T}\equiv p \quad\quad p\lor \text{F} \equiv p$                       |
|     零一律 Domination Laws     |                 $p\lor \text{T}\equiv \text{T}\quad\quad p\land \text{F}\equiv \text{F}$                 |
|     幂等律 Idempotent Laws     |                             $p\land p \equiv p \quad\quad p\lor p \equiv p$                              |
|   对合律 Double Negation Law   |                                         $\lnot \lnot p \equiv p$                                         |
|    交换律 Commutative Laws     |                       $p\lor q \equiv q \lor p\quad\quad p\land q\equiv q\land p$                        |
|    结合律 Associative Laws     |        $(p\lor q)\lor r\equiv p\lor (q\lor r)$  <br > $(p\land q)\land r\equiv p\land(q\land r)$         |
|    分配律 Distributive Laws    | $p\lor (q\land r)\equiv(p\lor q)\land (p\lor r)$ <br> $p\land (q\lor r)\equiv (p\land q)\lor (p\land r)$ |
| **德·摩根律 De Morgan's Laws** |          $\lnot(p\lor q)\equiv \lnot p\land \lnot q$ <br> $\lnot(p\land q)=\lnot p\lor\lnot q$           |
|      否定律 Negation Laws      |                  $p\lor \lnot p\equiv \text{T}\quad\quad p\land \lnot p\equiv \text{F}$                  |
|     吸收律 Absorption Laws     |                      $p\lor (p\land q)\equiv p\quad\quad p\land (p\lor q) \equiv p$                      |
|   逆否律 Contrapositive Law    |                          $p\leftrightarrow q \equiv \lnot q\rightarrow \lnot p$                          |
|   **导出律 Exportation Law**   |                      $(p\land q)\rightarrow r\equiv p\rightarrow (q\rightarrow r)$                       |
|         Absurdity Law          |                       $(p\rightarrow q)\land (p\rightarrow \lnot q)\equiv \lnot p$                       |
|   **蕴含律 Implication Law**   |                                 $p\rightarrow q \equiv \lnot p \land q$                                  |
|        Equivalence Law         |                    $p\leftrightarrow q\equiv (p\rightarrow q)\land (q\rightarrow p)$                     |

### 2.3. 全功能集 Functionally Complete Collection of Logical Operators

只需要部分运算符就可以表示出所有可能的运算，称这样的一个运算符集合为**全功能集(Functionally Complete Collection)**。

**极小全功能集**：$\{\lnot, \lor\}$, $\{\lnot, \land\}$, $\{|\}$, $\{\downarrow\}$ 等。

### 2.4. 标准式 Propositional Normal Forms

#### 2.4.1. DNF/CNF

先给出以下基本定义：

- A **literal** is a variable or its negation.
- Conjunctions with literals as conjuncts are called **conjunctive clauses** (clauses).

**标准式(Propositional Normal Forms)** 有以下两种：

- **析取范式(Disjunctive Normal Form, DNF)**：A formula is said to be in disjunctive normal form if it is written as a disjunction, in which all the terms are conjunctions of literals. (e.g. $(p\land q)\lor(p\land \lnot q)$.)
  - 最外面一层的运算符都是析取 $\lor$；
  - 括号内的运算符都是 $\land$；
  - 括号不能嵌套；
  - $\lnot$ 只能出现在变量前。
- **合取范式(Conjunctive Normal Form, CNF)**：和 DNF 的定义相反；把析取换成合取，合取换成析取。

> [!important] Theorem 3.1
>
> Any formula A is tautologically equivalent to **some** formula in DNF (CNF).
>
> > [!quote]- Proof
> >
> > 可以通过真值表构造，详见下面的 get the Full DNF of any formula 部分。
> >
> > Construct the truth table for the proposition. Then an equivalent proposition is the disjunction with n disjuncts (where n is the number of rows for which the formula evaluates to T). Each disjunct has m conjuncts where m is the number of distinct propositional variables. Each conjunct includes the positive form of the propositional variable if the variable is assigned T in that row and the negated form if the variable is assigned F in that row. This proposition is in disjunctive normal from.

#### 2.4.2. Full DNF/CNF

- A **极小项(minterm)** is a conjunctive of literals in which each variable is represented exactly once.
- A **极大项(maxterm)** is ??

可以从真值表中得到**主析取范式(Full Disjunctive Normal Form)**：

- 每个最小项对应真值表中 $f=\text{T}$ 的恰好一行。

![|500](https://static.memset0.cn/img/v6/2024/03/05/BOX63rJu.png)

也可以从真值表中得到**主合取范式(Full Conjuctive Normal Form)**：

- 利用 De Morgan's Laws，可以从真值表的 Full DNF 中得到。

![|500](https://static.memset0.cn/img/v6/2024/03/05/A8SVjPb0.png)

## 3. 谓词逻辑 Predicate Logic

### 3.1. 谓词 Predicates

> 考虑 $x>0$，可以被表示为**命题函数(propositional function)** $P(x)$，这里 $P$ 表示 $\text{is greater than } 0$ 且 $x$ 是一个变量。

- Propositional functions become propositions (and have truth
values) when their variables are each replaced by a value from
the domain or bound by a quantifier.
- A statement of the form $P(x_1,x_2,\ldots, x_n)$ is the value of the propositional function P at the $n$-tuple $(x_1,x_2,\ldots, x_n)$ and $P$ is called a $n$-ary predicate.

我们可以用命题函数来描述**前提条件(preconditions)** 和**后置条件(postconditions)** ，这可以用于约束一段程序的输入和输出。


### 3.2. 量词 Quantifiers

- **全称量词(universal quantifier)** $\forall$：都是真才为真，存在一个为假就为假。可以转化为合取。
- **存在量词(existential quantifier)** $\exists$：都是假才为假，存在一个为真就为真。可以转化为析取。
- **唯一量词(uniqueless quantifier)** $\exists !$：有且仅有一个为真时才为真。

我们在使用量词时，可能只要求对于某一范围内的 $x$ 成立，我们把此时 $x$ 的取值范围称为 **讨论域(domain of discourse = universe of discourse)**。

> [!important] 量词的优先级 Precedence of Quantifiers
> 量词的优先级高于所有逻辑运算。The quantifiers $\forall$ and $\exists$ have higher precedence than all the logical operators.

### 3.3. 谓词逻辑的等值 Equivalences in Predicate Logic

Statements involving predicates and quantifiers are logically equivalent if and only if they have the same truth value no matter
- 代入了什么谓词选择 which predicates are substituted into these statements and
- 使用了什么讨论域 which domain of discourse is used for the variables in these
propositional functions

同样使用 $\equiv$ 符号来表示谓词逻辑中的等值。

### 3.4. 量词的否定表达 Negating Quantified Expressions

德摩根定律对于量词也成立：

$$
\begin{aligned}
\lnot \forall x P(x) &\equiv \exists x \lnot P(x)\\
\lnot \exists x P(x) &\equiv \forall x \lnot P(x)
\end{aligned}
$$

### 3.5. 更多逻辑恒等式 More Logical Equivalences

$$
\begin{aligned}
\forall x (A(x) \land B(x)) &\equiv \forall x A(x) \land \forall x B(x)\\
\exists x (A(x) \lor B(x)) &\equiv \exists x A(x) \lor \exists x B(x)
\end{aligned}
$$

只有在 $A(x)$ 和 $B(x)$ 都输出真时，$A(x) \land B(x)$ 才为真，此时第一个等式的两侧都为真，否则两侧都为假。类似的可以证明第二个等式。

$$
\begin{aligned}
\forall x (A(x) \lor B(x)) &\not\equiv \forall x A(x) \lor \forall x B(x)\\
\exists x (A(x) \land B(x)) &\not\equiv \exists x A(x) \land \exists x B(x)
\end{aligned}
$$

但是如果把上面的等式的 $\land$ 和 $\lor$ 互换则*不成立*。容易举出反例。

$$
\begin{aligned}
\forall x A(x) \lor \forall x B(x) &\Rightarrow \forall x (A(x) \lor B(x))\\
\exists x (A(x) \land B(x)) &\Rightarrow \exists x A(x) \land \exists x B(x)\\
\end{aligned}
$$

但这两个命题在其中一个方向上是正确的。

$$
\begin{aligned}
x \text{ is not occurring in } P.\\
\forall x A(x) \lor P &\equiv \forall x (A(x) \lor P)\\
\forall x A(x) \land P &\equiv \forall x (A(x) \land P)\\
\exists x A(x) \lor P &\equiv \exists x (A(x) \lor P)\\
\exists x A(x) \land P &\equiv \exists x (A(x) \land P)\\
\end{aligned}
$$

$$
\begin{aligned}
x \text{ is not occurring in } B.\\
\forall x (B \rightarrow A(x)) &\equiv B \rightarrow \forall x A(x)\\
\exists x (B \rightarrow A(x)) &\equiv B \rightarrow \exists x A(x)\\
\forall x (A(x) \rightarrow B) &\equiv \exists x A(x) \rightarrow B\\
\exists x (A(x) \rightarrow B) &\equiv \forall x A(x) \rightarrow B\\
\end{aligned}
$$

### 3.6. 将英语翻译成谓词逻辑 Translation from English to Predicate Logic

## 4. 嵌套量词 Nested Quantifiers

**嵌套量词(nested quantifiers)**：出现在另一个量词的辖域下的量词。Nest quantifiers are quantfiers that occur within the scope of other quantifiers.

### 4.1. 量词的顺序 Order of Quantifiers

除非所有量词都是 $\forall$ 或所有量词都是 $\exists$，量词的顺序是有意义的。The order of quantifiers is important unless all the quantifiers are universal quantifiers or all the quantifiers are existential quantifiers.

E.g.:
- $\forall x\ \exists y\ L(x,y)$：*Everybody loves somebody.*
- $\exists y\ \forall x\ L(x,y)$：*There is someone who is loved by everyone.*

## 5. 证明 Proof

### 5.1. 一些术语 Some Terminology

![800](https://static.memset0.cn/img/v6/2024/03/17/O1exZfVc.png)

- **形式化证明(formal proof)** v.s. **非形式化证明(informal proof)**
- **直接证明法(direct proof)** v.s. **间接证明法(indirect proof)**

### 5.2. 证明方法 Proof Methods

#### 5.2.1. 空证明和平凡证明 Vacuous and Trivial Proof

- **空证明(vacuous proof)**：当 $p$ 为假时 $p\rightarrow q$ 为真，所以我们可以通过证明 $p$ 为假来证明 $p\rightarrow q$ 为真。
- **平凡证明(trivial proof)**：当 $q$ 为真时 $p\rightarrow q$ 为真，所以我们也可以通过证明 $q$ 为真来证明 $p\rightarrow q$ 为真。

#### 5.2.2. 反证法 Proof by Contraposition

#### 5.2.3. 归谬证明法 Proof by Contradiciton

Proof $p$ by contradiction:
- assumes $p$ is false.
- deduces that $\lnot p \rightarrow (q \land \lnot q)$, which $q \land \lnot q$ is a contradiction.
- $p$ follows from the above

Proof $p\rightarrow q$ by contradiction:
- assumes that both $\lnot q$ and $p$ are true.
- show that $(p \land \lnot q) \rightarrow \text{F}$.

proof by contradiction 和 proof by contraposition 的区别

### 5.3. 证明策略 Proof Strategies

#### 5.3.1. 穷举法 Exhausitve Proof

#### 5.3.2. 分类讨论 Proof by Cases

- Convince the reader that the cases are inclusive (i.e. they exhaust all possibilities)
- Establish all implications


#### 5.3.3. 不失一般性 Without Loss of Generality

**不失一般性(without loss of generality, WLOG)**