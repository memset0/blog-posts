---
title: "「UCup1 Hangzhou」Shuttle Tour"
date: 2024-01-21 16:05:00
---

> 给定一个 $n$ 个点的树，边有边权，每个节点有开 / 关两种状态，需要支持两种操作：
>
> - 给定 $x$，反转节点 $x$ 的开 / 关状态。
> - 给定 $l,r$，求将节点编号在 $[l,r]$ 中且状态为开的所有节点所构成的虚树边权和（虚树的边权定义为两点在原树上的距离）
>
> $1\le n,q\le 2\times 10^5$。